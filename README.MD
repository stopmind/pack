# pack

Простой упаковщик/распоковщик файлов с собственным форматом. Не имеет никакого сжатия.

## Формат

Логически формат представляет собой набор блоков, одни являются файлом и просто хранят содержание оригинальных файлов,
другие являются директориями, хранящими названия и смещения для дочерних блоков.

Все числа в формате записываются в Big-Endian.
Все смещения блоков указываются относительно начал файла.

Формат начинается с заголовка:

**Header**

| Название    | Тип | Описание                                                          |
|-------------|-----|-------------------------------------------------------------------|
| magic       | u16 | Магической число, должно быть равно 0x10FA                        |
| version     | u8  | Версия, сейчас есть только 0xEE                                   |
| root_offset | u32 | Смещение корневого блока, данный блок должен являться директорией |

Далее идут блоки.

**Block**

| Название   | Тип          | Описание                |
|------------|--------------|-------------------------|
| block_type | u8           | Тип блока               |
| size       | u32          | Размер содержания блока |
| content    | [u8; size]   | Содержание блока        |

Типы блоков

| Название  | Значение | Описание                                                                     |
|-----------|----------|------------------------------------------------------------------------------|
| File      | 0xFF     | Файл, содержанием блока является само содержание файла                       |
| Directory | 0xDD     | Директория, содержанием блока является список смещений и названий под-блоков |

Содержание директории из себя представляет массив записей.

**DirectoryEntry**

| Название  | Тип             | Описание                                      |
|-----------|-----------------|-----------------------------------------------|
| offset    | u32             | Смещение до блока                             |
| name_size | u16             | Длина названия дочернего блока                |
| name      | [u8; name_size] | Название дочернего блока, указывается в UTF-8 |

